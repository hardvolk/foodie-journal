<!-- NOTE: The HTML structure is ordered and layed out with a mobile-first approach.
     For bigger screens we use 'order-*-*' and 'm*-auto' helper classes to reorder and maintain a good layout.
     See https://getbootstrap.com/docs/4.0/utilities/flex/#auto-margins for more info. -->
<nav class="navbar navbar-expand-md navbar-dark fixed-top orange">

  <!-- Toggler will be on the left. -->
  <button *ngIf="userLogged"
          class="navbar-toggler mr-3" type="button"
          data-toggle="collapse" data-target="#navbarsExampleDefault"
          aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- Brand will be on the left. -->
  <a class="navbar-brand" [routerLink]="'/'">Foodie Journal</a>

  <!-- Non collapsible content. Always shown on right (due flex ml-auto, and to order-md-3 on bigger screens). -->
  <ul class="navbar-nav ml-auto order-md-3">
    <li class="nav-item">
      <a class="nav-link active" [routerLink]="" (click)="toggleShowLogin()">
          {{ userLogged ? 'Hi, ' + userName : 'Login' }}
      </a>
    </li>
  </ul>

  <!-- Collapsible content. Only shown when expanded, on left. -->
  <div *ngIf="userLogged"
       class="collapse navbar-collapse ml-3" id="navbarsExampleDefault">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          Home <span class="sr-only" *ngIf="router.url === '/'">(current)</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/tracks" routerLinkActive="active">
          Tracks <span class="sr-only" *ngIf="router.url === '/tracks'">(current)</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="">About</a>
      </li>
    </ul>
  </div>

</nav>

<app-login *ngIf="showAccountLogin"
           (loginSuccess)="updateAccountPanel()" (logoutSuccess)="updateAccountPanel()">
</app-login>
